INFORME T√âCNICO COMPLETO
EA Seguidor de Tendencias - M15 y H4
Par√°metros Validados Cient√≠ficamente
________________________________________
üìã DATOS BASE CIENT√çFICOS
TIMEFRAME M15 - 985 se√±ales/a√±o
NIVELES DE PIPS - % ALCANZA:
P5:   94.2% | P10:  90.4% | P15:  88.5% | P20:  85.1%
P25:  82.3% | P30:  79.3% | P35:  75.4% | P40:  71.3%
P50:  61.4% | P55:  57.2% | P60:  53.5% | P70:  43.8%
P80:  39.5% | P90:  36.4% | P100: 31.6%

CRUCES INVERSOS:
Cruce_a (MA200√ó220): 27.6% ocurre, 39.80 pips mean
Cruce_b (MA100√ó105): 33.1% ocurre, 30.69 pips mean
Cruce_c (MA50√ó53):   30.6% ocurre, 18.73 pips mean
Cruce_d (MA20√ó22):   30.8% ocurre, 14.60 pips mean
Cruce_e (Precio√óMA5): 37.5% ocurre, 8.59 pips mean

ASIMETR√çA BUY/SELL:
BUY:  81.85 pips mean (+13.6% superior)
SELL: 72.02 pips mean
TIMEFRAME H4 - 52 se√±ales/a√±o
NIVELES DE PIPS - % ALCANZA:
P50:  80.8% | P60:  80.8% | P70:  78.8% | P80:  76.9%
P90:  76.9% | P100: 76.9%

CRUCES INVERSOS:
Cruce_a (MA200√ó220): 59.6% ocurre, 305.65 pips mean ‚≠ê
Cruce_b (MA100√ó105): 36.5% ocurre, 123.36 pips mean
Cruce_c (MA50√ó53):   30.8% ocurre, 152.95 pips mean

ASIMETR√çA BUY/SELL:
BUY:  412.18 pips mean (+55.5% superior) ‚ö†Ô∏è EXTREMA
SELL: 265.11 pips mean
________________________________________
üéØ CONFIGURACI√ìN EA M15
DETECCI√ìN DE SE√ëALES
cpp
// COMBINACIONES DE MAs (5 combos)
Combinacion_A = a+b+c+d  // 75.84 pips mean
Combinacion_B = a+b+c    // 74.61 pips mean
Combinacion_C = a+b+d    // 78.48 pips mean ‚≠ê
Combinacion_D = a+c+d    // 77.63 pips mean
Combinacion_E = a+d+e    // 78.43 pips mean ‚≠ê‚≠ê MEJOR

Donde:
a) LWMA(200, CLOSE) > LWMA(220, OPEN)
b) LWMA(100, CLOSE) > LWMA(105, OPEN)
c) LWMA(50, CLOSE) > LWMA(53, OPEN)
d) LWMA(20, CLOSE) > LWMA(22, OPEN)
e) Close[1] > SMA(5, CLOSE)

// USAR: Combinaciones D y E (mejores rendimientos)
SALIDAS PARCIALES - ESQUEMA √ìPTIMO
cpp
// ESQUEMA VALIDADO: P30-P50-P70
// Expectativa: +28.61 pips/trade, WR 79.3%

Lote inicial: 1.0

AL ALCANZAR P30 (30 pips):
‚îú‚îÄ Cerrar 30% del lote (0.30)
‚îú‚îÄ Lote restante: 0.70
‚îî‚îÄ Probabilidad: 79.3%

AL ALCANZAR P50 (50 pips):
‚îú‚îÄ Cerrar 30% del lote inicial (0.30)
‚îú‚îÄ Lote restante: 0.40
‚îî‚îÄ Probabilidad: 61.4%

AL ALCANZAR P70 (70 pips):
‚îú‚îÄ Cerrar 40% del lote inicial (0.40)
‚îú‚îÄ Lote restante: 0.00 (todo cerrado)
‚îî‚îÄ Probabilidad: 43.8%

// Alternativa si queda lote:
SI lote_restante > 0 AL TIMEOUT (325 bars):
‚îî‚îÄ Cerrar 100% restante al precio actual
STOP LOSS
cpp
SL_Pips = 100  // Activaci√≥n: 27.1% de trades
// Aplicar desde entrada, ajustar por digits del s√≠mbolo
FILTROS ASIM√âTRICOS BUY/SELL
cpp
// BUY (criterios normales):
- Detectar combinaci√≥n D o E
- SL: 100 pips
- Peso: 100%

// SELL (criterios m√°s estrictos):
- Detectar combinaci√≥n D o E
- SL: 120 pips (mayor protecci√≥n, menor performance)
- Peso: 87% (generar menos se√±ales SELL)
- Filtro adicional: Solo si separaci√≥n MA200-MA220 > 3 pips
TIMEOUTS Y SALIDAS ALTERNATIVAS
cpp
Timeout_Bars = 325  // Salida de emergencia
Cruce_a_Salida = true  // Si ocurre Cruce MA200√ó220, cerrar restante
MAGIC NUMBER
cpp
Magic_M15 = 15001  // Identificador √∫nico
________________________________________
üéØ CONFIGURACI√ìN EA H4
DETECCI√ìN DE SE√ëALES
cpp
// COMBINACIONES (mismas que M15)
// USAR: Combinaci√≥n B (372.36 pips mean) ‚≠ê MEJOR

Combinacion_B = a+b+c
Donde:
a) LWMA(200, CLOSE) > LWMA(220, OPEN)
b) LWMA(100, CLOSE) > LWMA(105, OPEN)
c) LWMA(50, CLOSE) > LWMA(53, OPEN)
SALIDAS PARCIALES - ESQUEMA H4
cpp
// ESQUEMA VALIDADO: P60-P80-P100
// H4 permite objetivos m√°s ambiciosos

Lote inicial: 1.0

AL ALCANZAR P60 (60 pips):
‚îú‚îÄ Cerrar 25% del lote (0.25)
‚îú‚îÄ Lote restante: 0.75
‚îî‚îÄ Probabilidad: 80.8%

AL ALCANZAR P80 (80 pips):
‚îú‚îÄ Cerrar 30% del lote inicial (0.30)
‚îú‚îÄ Lote restante: 0.45
‚îî‚îÄ Probabilidad: 76.9%

AL ALCANZAR P100 (100 pips):
‚îú‚îÄ Cerrar 45% del lote inicial (0.45)
‚îú‚îÄ Lote restante: 0.00
‚îî‚îÄ Probabilidad: 76.9%

// Salida alternativa PRIORITARIA:
AL CRUCE_A (MA200√ó220 inverso):
‚îî‚îÄ Cerrar 100% lote restante
‚îî‚îÄ Probabilidad: 59.6% (305.65 pips mean) ‚≠ê‚≠ê‚≠ê
STOP LOSS
cpp
SL_Pips = 150  // H4 requiere SL m√°s amplio
// Activaci√≥n estimada: ~35% de trades
FILTROS ASIM√âTRICOS BUY/SELL
cpp
// BUY (MUY FAVORECIDO):
- Detectar combinaci√≥n B
- SL: 150 pips
- Peso: 100%

// SELL (MUCHO M√ÅS ESTRICTO):
- Detectar combinaci√≥n B
- SL: 200 pips
- Peso: 50% (generar MITAD de se√±ales SELL)
- Filtros adicionales obligatorios:
  * Separaci√≥n MA200-MA220 > 8 pips
  * ATR(14) > 12 pips
// Raz√≥n: Asimetr√≠a +55.5% requiere filtrado agresivo
TIMEOUTS Y SALIDAS ALTERNATIVAS
cpp
Timeout_Bars = 325  // Salida de emergencia
Cruce_a_Salida = true  // PRIORIDAD M√ÅXIMA (305 pips)
MAGIC NUMBER
cpp
Magic_H4 = 40001  // Identificador √∫nico
```

---

## üìä EXPECTATIVAS DE RENDIMIENTO

### M15 (Operativo Principal)
```
Se√±ales/a√±o: 985
Pips/trade: +28.61
Win Rate: 79.3%
Profit anual estimado: +28,191 pips

Distribuci√≥n:
- BUY: 498 se√±ales (+81.85 pips mean)
- SELL: 487 se√±ales (+72.02 pips mean)
```

### H4 (Calidad Selectiva)
```
Se√±ales/a√±o: 52
Pips/trade: +85-95 (estimado con parciales)
Win Rate: 76.9%
Profit anual estimado: +4,420-4,940 pips

Distribuci√≥n:
- BUY: 30 se√±ales (+412.18 pips mean)
- SELL: 22 se√±ales (+265.11 pips mean)
________________________________________
üîß ESTRUCTURA T√âCNICA MQL4
M√ìDULOS REQUERIDOS
cpp
1. M√≥dulo_Deteccion_MAs()
   - Calcular 9 MAs (LWMA + SMA)
   - Evaluar 5 combinaciones
   - Retornar se√±al BUY/SELL

2. Modulo_Filtros_Asimetricos()
   - Aplicar filtros seg√∫n direcci√≥n
   - Verificar separaci√≥n MAs
   - Calcular ATR si H4

3. Modulo_Gestion_Posicion()
   - Calcular lote seg√∫n riesgo %
   - Colocar SL inicial
   - Registrar niveles de parciales

4. Modulo_Salidas_Parciales()
   - Monitorear niveles P30, P50, P70 (M15)
   - Monitorear niveles P60, P80, P100 (H4)
   - Cerrar % exacto de lote

5. Modulo_Cruces_Salida()
   - Detectar cruce MA200√óMA220 inverso
   - Cerrar lote restante inmediatamente

6. Modulo_Timeout()
   - Contar bars desde entrada
   - Cerrar a 325 bars si no cerr√≥ antes

7. Modulo_Logging()
   - Registrar entrada, salidas parciales, SL
   - Exportar CSV: Timestamp, Tipo, Combo, Precio, Salidas
PAR√ÅMETROS EXTERNOS
cpp
// GENERALES
extern int Magic_Number = 15001;  // M15, cambiar a 40001 para H4
extern double Riesgo_Porcentaje = 1.0;  // % capital por trade
extern bool Usar_Combinacion_D = true;
extern bool Usar_Combinacion_E = true;

// SALIDAS M15
extern bool Salida_P30 = true;
extern int Pct_P30 = 30;
extern bool Salida_P50 = true;
extern int Pct_P50 = 30;
extern bool Salida_P70 = true;
extern int Pct_P70 = 40;

// SALIDAS H4
extern bool Salida_P60 = true;
extern int Pct_P60 = 25;
extern bool Salida_P80 = true;
extern int Pct_P80 = 30;
extern bool Salida_P100 = true;
extern int Pct_P100 = 45;

// PROTECCI√ìN
extern int SL_Pips = 100;  // M15: 100, H4: 150
extern int Timeout_Bars = 325;
extern bool Usar_Cruce_Salida = true;

// FILTROS ASIM√âTRICOS
extern bool Filtros_Asimetricos = true;
extern double Separacion_Min_SELL = 3.0;  // M15: 3.0, H4: 8.0
extern double ATR_Min_SELL_H4 = 12.0;  // Solo H4

// LOGGING
extern bool Exportar_CSV = true;
extern bool Logging_Detallado = true;
```

---

## üìÅ ARCHIVOS CSV EXPORTADOS

### Estructura CSV
```
Timestamp, Tipo, Combinacion, Precio_Entrada, SL_Precio,
P30_Cerrado, P30_Precio, P30_Pips, P30_Bars,
P50_Cerrado, P50_Precio, P50_Pips, P50_Bars,
P70_Cerrado, P70_Precio, P70_Pips, P70_Bars,
Cruce_Cerrado, Cruce_Precio, Cruce_Pips, Cruce_Bars,
Timeout_Cerrado, Timeout_Precio, Timeout_Pips, Timeout_Bars,
SL_Activado, Resultado_Final_Pips, Duracion_Total_Bars
```

---

## ‚úÖ CHECKLIST CODIFICACI√ìN

- [ ] Implementar 9 MAs (6 LWMA + 1 SMA)
- [ ] Codificar 5 combinaciones detecci√≥n
- [ ] Sistema salidas parciales (3 niveles M15, 3 niveles H4)
- [ ] Filtros asim√©tricos BUY/SELL
- [ ] Cruce MA200√ó220 como salida prioritaria
- [ ] Timeout 325 bars
- [ ] SL din√°mico (100 M15, 150 H4)
- [ ] C√°lculo lote por riesgo %
- [ ] Logging completo CSV
- [ ] Magic Numbers √∫nicos
- [ ] Gesti√≥n multi-parciales (cerrar % exacto)

---

## üéØ NOMBRES ARCHIVOS FINALES
```
EA_TrendFollower_M15_v1.mq4
EA_TrendFollower_H4_v1.mq4
¬°LISTO PARA CODIFICAR EN PR√ìXIMO CHAT! üöÄ

